# План автоматизации тестирования формы заявки сервиса "Накопилка" от Альфа-Банка
Отступление: В данный момент, счет “Накопилка” недоступен для открытия с 21.07.2020.

## 1. Перечень автоматизируемых сценариев

Для тестирования непосредственно формы заявки необходимо попасть на страницу с ней. Для этого необходимо выполнить следующие предусловия:


### Как попасть на вклад “Накопилка” Способ 1:
1. Открыть главную страницу [Альфа-Банка](https://alfabank.ru/)
2. Вкладка “Частным лицам” должна быть активна (текст подчеркнут)
![1](https://user-images.githubusercontent.com/67016228/96575083-f950f380-12d8-11eb-8f37-adcb4e093cb1.jpg)
3. Навести курсор на раздел “Вклады”
4. Нажать “Накопилка”
![2](https://user-images.githubusercontent.com/67016228/96575290-40d77f80-12d9-11eb-9873-03031e73955d.jpg)
5. Откроется страница с описанием накопительного счета и кнопкой для заявки
![накопилка 1](https://user-images.githubusercontent.com/67016228/96575405-5e0c4e00-12d9-11eb-9d79-31b776459868.jpg)
6. Нажать кнопку “Заполнить заявку”
7. Откроется страница для заполнения контактных данных
![анкета](https://user-images.githubusercontent.com/67016228/96575449-6c5a6a00-12d9-11eb-8e0b-48f777dd9f78.jpg)


### Как попасть на вклад “Накопилка” Способ 2:
1. Открыть главную страницу Альфа-Банка https://alfabank.ru/
2. Открыть раздел “Вклады” во вкладке “Частным лицам”
![3](https://user-images.githubusercontent.com/67016228/96575675-be9b8b00-12d9-11eb-8746-5c1868c9beaa.jpg)
3. Открыть раздел “Накопительные счета” и открыть “Архивные счета и депозиты”
![5](https://user-images.githubusercontent.com/67016228/96575788-e559c180-12d9-11eb-9cfe-09cc0435e934.jpg)
4. Открыть “Накопилка”
![6](https://user-images.githubusercontent.com/67016228/96575895-07ebda80-12da-11eb-9cd0-16d71d6d2261.jpg)
5. Дальнейшие шаги аналогичны шагам 5-7 из Способа 1.


### Сценарии 

Корректными данными для поля Имя считаются:
- Имя на русском языке
- Длина имени от 2 до 64 символов (например, Ян)
- Двойные имена через дефис (например, Алла-Анна)
- В имени присутствует буква Ё

Некорректными данными для поля Имя считаются:
- Имя на любом языке, кроме русского
- В имени присутствуют цифры
- В имени присутствуют спецсимволы (;%?*)
- Имя более чем из 64 символов 

Корректными данными для поля Мобильный телефон считаются:
- 10-значный номер телефона (+7 выставляется автоматически, например, +79995556999)

Некорректными данными для поля Мобильный телефон считаются:
- значение номера телефона, если оно состоит из любого количества символов, отличного от 11 (+7 проставляется автоматически), букв или спецсимволов 

- Позитивные сценарии (Happy Path), когда все требуемые данные введены корректно:
1. В поле “Имя” ввести корректное имя
2. В поле  “Мобильный телефон” ввести корректный номер телефона
3. Нажать чекбокс “Я согласен(а) на обработку персональных данных”
4. Нажать кнопку “Мы перезвоним”
5. Ожидается появление сообщения “Успешно, ожидайте нашего звонка”

- Негативные сценарии
- - Некорректно заполненное поле Имя 
1. В поле “Имя” ввести некорректное имя
2. В поле  “Мобильный телефон” ввести корректный номер телефона
3. Нажать чекбокс “Я согласен(а) на обработку персональных данных”
4. Нажать кнопку “Мы перезвоним”
5. Ожидается появление сообщения рядом с полем Имя “Проверьте, пожалуйста, имя”

- - Некорректно заполненное поле Мобильный телефон
1. В поле “Имя” ввести корректное имя
2. В поле  “Мобильный телефон” ввести некорректный номер телефона
3. Нажать чекбокс “Я согласен(а) на обработку персональных данных”
4. Нажать кнопку “Мы перезвоним”
5. Ожидается появление сообщения рядом с полем Мобильный телефон “Проверьте, пожалуйста, мобильный телефон”
 
- - Некорректно заполненные поля Имя, Мобильный телефон 
1. В поле “Имя” ввести некорректное имя
2. В поле  “Мобильный телефон” ввести некорректный номер телефона 
3. Нажать чекбокс “Я согласен(а) на обработку персональных данных”
4. Нажать кнопку “Мы перезвоним”
5. Ожидается появление сообщений рядом с полем Имя “Проверьте, пожалуйста, имя”, рядом с полем Мобильный телефон “Проверьте, пожалуйста, мобильный телефон”

- - Пустое поле имя 
1. Поле “Имя” оставить пустым
2. В поле  “Мобильный телефон” ввести корректный номер телефона
3. Нажать чекбокс “Я согласен(а) на обработку персональных данных”
4. Нажать кнопку “Мы перезвоним”
5. Ожидается появление сообщения рядом с полем Имя “Проверьте, пожалуйста, имя”


- - Пустое поле Мобильный телефон
1. В поле “Имя” ввести корректное имя
2. Поле  “Мобильный телефон” оставить пустым
3. Нажать чекбокс “Я согласен(а) на обработку персональных данных”
4. Нажать кнопку “Мы перезвоним”
5. Ожидается появление сообщения рядом с полем Мобильный телефон “Проверьте, пожалуйста, мобильный телефон”

- - Пустые поля Имя, Мобильный телефон 
1. Поле “Имя” оставить пустым
2. Поле  “Мобильный телефон” оставить пустым
3. Нажать чекбокс “Я согласен(а) на обработку персональных данных”
4. Нажать кнопку “Мы перезвоним”
5. Ожидается появление сообщений рядом с полем Имя “Проверьте, пожалуйста, имя”, рядом с полем Мобильный телефон “Проверьте, пожалуйста, мобильный телефон”
 
- - Отсутствие согласия на обработку персональных данных:
1. В поле “Имя” ввести корректное имя
2. В поле  “Мобильный телефон” ввести корректный номер телефона
3. Нажать кнопку “Мы перезвоним”
4. Кнопка “Мы перезвоним” неактивна, ожидается появление сообщения “Необходимо выразить согласие на обработку персональных данных”
 
## 2. Перечень используемых инструментов с обоснованием выбора
1. Java 11 - универсальный язык, позволяющий работать на всех ОС и различном оборудовании за счет виртуальной машины, которая полностью контролирует безопасность и прерывает работу если что-то пошло не так (несанкционированный доступ и пр.)
2. IntelliJ IDEA - среда разработки для различных языков, совместимая с различными инструментами и возможностью их комбинирования и настройки под конкретный случай.
3. JUnit5 - тестовый фреймворк, совместимый с JVM, содержит необходимые аннотации и assert’ы
4. Gradle - система сборки проекта. По сравнению с Maven, в Gradle проще подключать зависимости, меньше кода, гибкость системы.
5. Faker - система генерации случайных данных для тестов. Позволяет создать различные данные автоматически с учетом местоположения, а не придумывать данные и напрямую писать их в код.
6. Lombok - плагин для создания аннотаций, заменяющих значительное количество однообразных конструкторов, getters/setters и пр.
7. Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Подключение веб-драйвера происходит автоматически, простое написание кода тестов
8. Appveyor -  система CI. Интеграция с Github, простое подключение и настройка, бесплатное использование
9. Allure Report - система репортинга. Простое подключение к тестам, возможность отслеживать данные на протяжении времени
10. Git - система контроля версий. Удобство, возможность одновременной параллельной разработки, есть интеграция с IntelliJ IDEA
 
## 3. Перечень необходимых разрешений/данных/доступов от банка 
1. Разрешение от Альфа-Банка на тестирование рабочей, активной версии сайта (возможно в какое-то определенное время и с предоставлением банку всех тестовых данных, чтобы можно было отследить их отправку и вовремя удалить из базы данных)
2. Тестовые данные генерируются автоматически, их предоставление не требуется
3. Регистрация и верификация для отправки заявки не требуется, поэтому тестовый пользователь не потребуется
 
 
## 4. Перечень и описание возможных рисков при автоматизации
1) Изменение структуры сайта, перенос сервиса в другое место
2) Изменение структуры страницы (html, css) - недоступность css-селекторов для проверки
3) Некорректность тестовых данных при работе с Faker
4) Исходя из пунктов 1 и 2 переоценка стоимости автоматизации и поддержания автотестов в сторону повышения
5) Дополнительная нагрузка на сайт
 
## 5. Перечень необходимых специалистов для автоматизации
Задача стоит таким образом, что не потребует специфичных навыков. Поэтому она вполне по силам ручному тестировщику с навыками автоматизации. Либо один ручной тестировщик + помощь в автоматизации от другого специалиста.

## 6. Интервальная оценка с учётом рисков (в часах) 
- Согласование доступа к сайту с банком - 16 часов (2 рабочих дня, если тестирование будет делегировано сторонним организациям, возможно и больше из-за проверок безопасности)
- Подготовка необходимых инструментов, написание кода автотестов - 8 часов
- Подготовка отчетной документации и, если потребуется - баг-репортов - 4 часа
- Запас в виде 16 часов на непредвиденные обстоятельства (bus factor)
